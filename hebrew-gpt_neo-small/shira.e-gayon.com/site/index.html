<!doctype html>
<html class="no-js" lang="he" dir="rtl">
    <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-153595643-3"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-153595643-3');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta property="og:url"                content="https://shira.e-gayon.com" />
    <meta property="og:type"               content="website" />
    <meta property="og:title"              content="אִי-גָיוֹן שירה" />
    <meta property="og:description"        content="מודל קטן של בינה מלאכותית היוצר שירים וסיפורים בעברית" />
    <meta property="og:locale"			   content="he_IL" />
    <meta property="og:image"              content="https://storage.googleapis.com/dadler_gpt2_data/stage-icon.png" />
    <title>אִי-גָיוֹן</title>
    <meta name="description" content="אִי-גָיוֹן שירה - יוצר יצירות ומשלים טקסט עברי למשהו שנראה כמו שיר או סיפור. המודל מבוסס על ג׳יפיטי-נאו קטן שאומן על טקסטים בעברית וכויל על שירים וסיפורים בעברית">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.3/css/mdb.min.css" rel="stylesheet">
</head>
<body dir="rtl">    
    <div dir="rtl" class="container" style="display: inline-block; text-align: right">
        <h1 dir="rtl" class="my-2 mx-lg-2">אִי-גָיוֹן שירה </h1>
        <h2  dir="rtl" class="my-2 mx-lg-2">מחולל שירים וסיפורים בעברית</h2>
        <div dir="rtl" class="px-lg-2 pt-0">
            <form dir="rtl" class="md-form" style="color: #757575;">
                <div dir="rtl" class="d-flex justify-content-end"></div>
                <textarea dir="rtl" name="text_in" class="form-control md-textarea" rows="1" id="textarea_in" autofocus
                    placeholder=".רשמו את המילים הראשונות של היצירה והמודל ישלים לכם אותה. אפשר גם להשאיר ריק ולהיות מופתעים (מומלץ). בכל פעם תיווצר יצירה אחרת" 
                    onkeypress="process(event, this)"></textarea>
                    <button dir="rtl" class="btn btn-outline-primary waves-effect" type="submit">השלם / צור יצירה</button>
                </div>
                <textarea readonly dir="rtl" name="text_out" class="form-control md-textarea" rows="12" id="textarea_out"
                    placeholder="כאן תופיע  היצירה"></textarea>
                    <!-- <div dir="rtl" style="display: flex; justify-content: center" id="shareBtn" class="btn btn-success clearfix">יצא מצחיק? - שתפו!</div>     -->
            </form>
        </div>
        <hr>
        <p dir="rtl" style="text-align:center;">מודל השפה אומן על ידי <a href="https://github.com/Norod">דורון אדלר</a><br/>
            בקרו ב  <a href="https://e-gayon.com/">מחולל הגדרות הנוֹנְסֵנְס</a> המקורי <br/>
        <!-- <div style="display: flex; justify-content: center" class="fb-like" data-href="https://e-gayon.com" data-width="120" data-layout="standard" data-action="like" data-size="small" data-share="false"></div>-->
        </p>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.3/js/mdb.min.js"></script>
    <script>
        // Key Press Listener Attachment for #area.
        function process(e) {
            var code = (e.keyCode ? e.keyCode : e.which);
            if (code == 13) { //Enter
                // revent the default event.
                event.preventDefault();
                // Get the message value, stripping any newline characters.                                                 
                $('form').submit();                   
            }
        }

        $('form').on('submit', function (e) {
            texarea_out = $('textarea#textarea_out')
            texarea_out.select()
            e.preventDefault();
            texarea_out.val("נא להמתין")
            $.post(window.location.href, $(this).serialize(), function (data) {                
                console.log('הידד, היצירה מוכנה')
                texarea_out.val("הידד, היצירה מוכנה")
                console.log(data)
                texarea_out.val(data)
                $('form').select()
                $("#textarea_in").focus()
            });
        });

        /*
        document.getElementById('shareBtn').onclick = function() {
            texarea_out = $('textarea#textarea_out')
            share_text = texarea_out.val
            FB.ui({
                display: 'popup',
                method: 'share',
                quote: share_text,
                href: 'https://e-gayon.com',
            }, function(response){});
        }
        */

    </script>
</body>
</html>